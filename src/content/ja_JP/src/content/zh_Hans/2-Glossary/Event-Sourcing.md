---
title: 'イベント トレース (Event Sourcing)'
metaTitle: 'イベント トレース (Event Sourcing)'
metaDescription: 'イベント トレース (Event Sourcing)'
---

イベントトレーサビリティモードは、ソフトウェア設計のアイデアです。この設計思想は、通常、追加および削除の変更 (CRUD) を使用する従来のシステム設計のアイデアとは異なります。CRUD アプリには、通常、いくつかの制限があります。：

1. 通常、CRUD アプリは、データ ストアを直接操作します。このような実装は、データベースの最適化が不十分なため、パフォーマンスのボトルネックになり、アプリケーションのスケーラビリティを実現するのが難しくなります。
2. 通常、データ更新エラーを防ぐために、同時実行の問題を処理するために注意を払う必要があるデータが特定の領域にあります。これには、通常、このような問題を回避するために、"ロック" や "トランザクション" などの関連テクノロジを導入する必要があります。しかし、これはパフォーマンスの損失を引き起こす可能性があります。
3. 追加の監査手段が追加されない限り、データの変更履歴は追跡できないことが多い。データ ストアには、通常、データの最終状態が保存されるためです。

CRUD のプラクティスと比較して、イベント トレーサビリティは、上記の説明の制限を設計上回避します。次に、上記の「転送」ビジネス シナリオを中心に、イベントのトレーサビリティの基本的な動作について簡単に説明します。

CRUDの手法で「振込」を実現。

![CRUDの手法による「送金」の実現](/images/20190226-006.gif)

"転送" は、イベント トレーサビリティを使用して実装されます。

![イベントトレーサビリティによる「転送」の実現](/images/20190227-001.gif)

上の図に示すように、転送業務に関連する残高の変更は、イベント トレーサビリティ モデルを使用してイベントとして格納されます。また、ビジネス自体を実現し、いくつかの利点をもたらします。：

- イベントを通じて、アカウントの残高は、アカウント残高の追跡をある程度実現する任意の段階の残高を復元できます。
- 2 つのアカウントのイベントは独立して処理されるため。したがって、2 つのアカウントの処理速度は互いに影響しません。たとえば、アカウント B の転送は、追加の処理が必要なため若干遅れる可能性がありますが、アカウント A は引き続き転送できます。
- イベントをサブスクライブすることで、ビジネスの非同期処理を行うことができます。例えば：データベース内の統計を更新し、SMS 通知などの他の非同期操作を送信します。

もちろん、イベント トレース パターンの導入には、イベント トレースに関連するいくつかの技術的な問題も導入されます。例えば：イベントによって消費されるストレージは、より大きく、最終的な一貫性を適用する必要があります。関連する問題は、いくつかの記事でより詳細に説明されています。読者は、その後の拡張読書を読むことができ、理解と評価を行うことができます。

> 参考文献
> 
> - [Event Sourcing Pattern](https://docs.microsoft.com/en-us/previous-versions/msp-n-p/dn589792%28v%3dpandp.10%29)
> - [Event Sourcing Pattern 中国語翻訳](https://www.infoq.cn/article/event-sourcing)
