---
title: 'Ресурс событий'
metaTitle: 'Ресурс событий'
metaDescription: 'Ресурс событий'
---

> [Рассматриваемая в настоящее время версия является результатом машинного перевода китайского упрощенного и ручного корректуры.Если в документе есть неправильный перевод, пожалуйста, нажмите здесь, чтобы представить свое предложение о переводе.](https://crwd.in/newbeclaptrap)

Режим отслеживания событий — это своего рода идея разработки программного обеспечения.Такая идея дизайна обычно отличается от традиционной идеи проектирования системы, основанной на добавлении и удалении (CRUD).Приложения CruD часто имеют некоторые ограничения：

1. Как правило, приложения CRUD принимают практику эксплуатации хранения данных напрямую.Такая реализация может привести к узким местам производительности из-за недостаточной оптимизации базы данных, и это может быть трудно масштабировать приложения.
2. Часто в определенной области имеются данные, требующие внимания к обработке проблем параллелизма для предотвращения ошибок в обновлении данных.Это часто требует внедрения смежных методов, таких как блокировки, транзакции и т.д., чтобы избежать таких проблем.Но это также может привести к потерям производительности.
3. Если не будет добавлен дополнительный аудит, история изменений данных, как правило, не прослеживается.Потому что хранилище данных обычно сохраняется в конечном состоянии данных.

В отличие от подхода CRUD, отслеживание событий позволяет избежать ограничений вышеупомянутого описания по дизайну.Следующим шагом является наметить основной метод отслеживания событий вокруг упомянутого выше бизнес-сценария «передачи».

Используйте подход CRUD для «передачи».

!["Передача" с помощью CRUD](/images/20190226-006.gif)

"Передача" в виде прослеживаемости событий.

!["Передача" с использованием подхода отслеживания событий](/images/20190227-001.gif)

Как показано на рисунке выше, изменения баланса, связанные с бизнесом передачи, хранятся в зависимости от событий через модель отслеживания событий.Также реализует сам бизнес, который приносит некоторые преимущества：

- Благодаря событию можно восстановить баланс любого этапа счета, что в определенной степени для достижения отслеживания баланса счета.
- Потому что события обеих учетных записей обрабатываются независимо.Таким образом, скорость обработки двух счетов не влияет друг на друга.Например, перевод счета B может быть немного отложен из-за дополнительной обработки, но учетная запись А все еще может быть переведена.
- Вы можете подписаться на события, чтобы сделать некоторые асинхронной обработки вашего бизнеса.Например：Обновляйте статистику в базе данных, отправляйте SMS-уведомления и другие асинхронные операции.

Конечно, введение режима отслеживания событий также ввело некоторые связанные с этим технические проблемы отслеживания событий.Например：События могут потреблять большие объемы памяти, в конечном итоге согласованность должна быть применена, события непреложны, рефакторинг может быть трудным, и так далее.Эти связанные с этим вопросы более подробно описаны в некоторых статьях.Читатели могут прочитать расширенное чтение для дальнейшего понимания и оценки.

> Ресурсы
> 
> - [Шаблон поиска событий](https://docs.microsoft.com/en-us/previous-versions/msp-n-p/dn589792%28v%3dpandp.10%29)
> - [Перевод события Sourcing шаблон китайский](https://www.infoq.cn/article/event-sourcing)
